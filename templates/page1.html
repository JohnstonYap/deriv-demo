<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QB Bot - UI/UX Inspector</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <div class="landing-container">
        <!-- Hero Section -->
        <div class="hero-section">
            <div class="logo-container">
                <div class="logo-icon">
                    <img src="{{ url_for('static', filename='images/logo.png') }}" alt="QB Bot Logo" width="100" height="100">
                </div>
            </div>
            
            <h1 class="hero-title">QB Bot</h1>
            <p class="hero-tagline">UI/UX Inspector</p>
            <p class="hero-description">
                Protect your front door with AI that catches signup friction before you lose a single lead.
            </p>
        </div>

        <!-- URL Input Form -->
        <div class="url-input-card">
            <form action="{{ url_for('run_test') }}" method="POST" id="testForm">
                <!-- URL Input Section -->
                <div class="input-section">
                    <label for="url" class="input-label">Test URL *</label>
                    <div class="url-input-wrapper">
                        <input 
                            type="url" 
                            id="url" 
                            name="url" 
                            placeholder="https://example.com"
                            required
                        />
                        <button type="submit" class="submit-button">
                            Run Test
                        </button>
                    </div>
                </div>

                <!-- Configuration Grid -->
                <div class="config-grid">
                    <!-- Environment Selection -->
                    <div class="config-group">
                        <label for="environment" class="input-label">Environment *</label>
                        <div class="custom-select" data-name="environment">
                            <div class="select-trigger">
                                <span class="select-value">Select Environment</span>
                                <svg class="select-arrow" width="12" height="12" viewBox="0 0 12 12" fill="none">
                                    <path d="M2 4L6 8L10 4" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                                </svg>
                            </div>
                            <div class="select-options">
                                <div class="select-option" data-value="Web">
                                    <span>Web</span>
                                </div>
                                <div class="select-option" data-value="iOS">
                                    <span>iOS</span>
                                </div>
                                <div class="select-option" data-value="Android">
                                    <span>Android</span>
                                </div>
                                <div class="select-option" data-value="Desktop">
                                    <span>Desktop</span>
                                </div>
                            </div>
                            <input type="hidden" name="environment" id="environment" required>
                        </div>
                    </div>

                    <!-- Resolution Selection -->
                    <div class="config-group" id="resolutionGroup" style="display:none;">
                        <label for="resolution" class="input-label">Resolution *</label>
                        <div class="custom-select" data-name="resolution">
                            <div class="select-trigger">
                                <span class="select-value">Select Resolution</span>
                                <svg class="select-arrow" width="12" height="12" viewBox="0 0 12 12" fill="none">
                                    <path d="M2 4L6 8L10 4" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                                </svg>
                            </div>
                            <div class="select-options" id="resolutionOptions">
                                <!-- Dynamically populated -->
                            </div>
                            <input type="hidden" name="resolution" id="resolution" required>
                        </div>
                    </div>

                    <!-- Browser Selection -->
                    <div class="config-group">
                        <label for="browser" class="input-label">Browser *</label>
                        <div class="custom-select" data-name="browser">
                            <div class="select-trigger">
                                <span class="select-value">Select Browser</span>
                                <svg class="select-arrow" width="12" height="12" viewBox="0 0 12 12" fill="none">
                                    <path d="M2 4L6 8L10 4" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                                </svg>
                            </div>
                            <div class="select-options">
                                <div class="select-option" data-value="Chrome">
                                    <span>Chrome</span>
                                </div>
                                <div class="select-option" data-value="Safari">
                                    <span>Safari</span>
                                </div>
                                <div class="select-option" data-value="Firefox">
                                    <span>Firefox</span>
                                </div>
                                <div class="select-option" data-value="Edge">
                                    <span>Edge</span>
                                </div>
                                <div class="select-option" data-value="Opera">
                                    <span>Opera</span>
                                </div>
                                <div class="select-option" data-value="Brave">
                                    <span>Brave</span>
                                </div>
                                <div class="select-option custom-option" data-value="Custom">
                                    <span>Custom Browser</span>
                                </div>
                            </div>
                            <input type="hidden" name="browser" id="browser" required>
                        </div>
                        <!-- Custom Browser Input -->
                        <div class="custom-input-wrapper" id="customBrowserWrapper" style="display: none;">
                            <input type="text" id="customBrowser" name="custom_browser" placeholder="Enter custom browser name">
                        </div>
                    </div>

                    <!-- Tester Level Selection -->
                    <div class="config-group">
                        <label for="tester_level" class="input-label">Tester Level *</label>
                        <div class="custom-select" data-name="tester_level">
                            <div class="select-trigger">
                                <span class="select-value">Select Level</span>
                                <svg class="select-arrow" width="12" height="12" viewBox="0 0 12 12" fill="none">
                                    <path d="M2 4L6 8L10 4" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                                </svg>
                            </div>
                            <div class="select-options">
                                <div class="select-option" data-value="Newbie">
                                    <span>Newbie</span>
                                </div>
                                <div class="select-option" data-value="Expert">
                                    <span>Expert</span>
                                </div>
                                <div class="select-option custom-option" data-value="Custom">
                                    <span>Custom Level</span>
                                </div>
                            </div>
                            <input type="hidden" name="tester_level" id="tester_level" required>
                        </div>
                        <!-- Custom Tester Level Input -->
                        <div class="custom-input-wrapper" id="customTesterWrapper" style="display: none;">
                            <input type="text" id="customTester" name="custom_tester" placeholder="Enter custom tester level">
                        </div>
                    </div>

                    <!-- Language Selection -->
                    <div class="config-group">
                        <label for="language" class="input-label">Language *</label>
                        <div class="custom-select" data-name="language">
                            <div class="select-trigger">
                                <span class="select-value">Select Language</span>
                                <svg class="select-arrow" width="12" height="12" viewBox="0 0 12 12" fill="none">
                                    <path d="M2 4L6 8L10 4" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                                </svg>
                            </div>
                            <div class="select-options">
                                <div class="select-option" data-value="Arabic">
                                    <span>Arabic (العربية)</span>
                                </div>
                                <div class="select-option" data-value="English">
                                    <span>English</span>
                                </div>
                                <div class="select-option" data-value="Chinese">
                                    <span>Chinese (中文)</span>
                                </div>
                                <div class="select-option" data-value="Spanish">
                                    <span>Spanish (Español)</span>
                                </div>
                                <div class="select-option" data-value="French">
                                    <span>French (Français)</span>
                                </div>
                                <div class="select-option" data-value="German">
                                    <span>German (Deutsch)</span>
                                </div>
                                <div class="select-option" data-value="Japanese">
                                    <span>Japanese (日本語)</span>
                                </div>
                                <div class="select-option" data-value="Korean">
                                    <span>Korean (한국어)</span>
                                </div>
                                <div class="select-option" data-value="Portuguese">
                                    <span>Portuguese (Português)</span>
                                </div>
                                <div class="select-option" data-value="Russian">
                                    <span>Russian (Русский)</span>
                                </div>
                                <div class="select-option" data-value="Hindi">
                                    <span>Hindi (हिन्दी)</span>
                                </div>
                                <div class="select-option" data-value="Italian">
                                    <span>Italian (Italiano)</span>
                                </div>
                                <div class="select-option" data-value="Dutch">
                                    <span>Dutch (Nederlands)</span>
                                </div>
                                <div class="select-option" data-value="Turkish">
                                    <span>Turkish (Türkçe)</span>
                                </div>
                                <div class="select-option" data-value="Vietnamese">
                                    <span>Vietnamese (Tiếng Việt)</span>
                                </div>
                            </div>
                            <input type="hidden" name="language" id="language" required>
                        </div>
                        <!-- Custom Language Input -->
                        <div class="custom-input-wrapper" id="customLanguageWrapper" style="display: none;">
                            <input type="text" id="customLanguage" name="custom_language" placeholder="Enter custom language">
                        </div>
                    </div>
                </div>
            </form>
        </div>

        <!-- Recent Tests History -->
        {% if history %}
        <div class="history-section">
            <h2 class="history-title">Recent Tests</h2>
            <div class="history-list">
                {% for test in history[:5] %}
                <div class="history-item">
                    <div class="history-score">
                        <svg width="60" height="60" viewBox="0 0 60 60">
                            <circle cx="30" cy="30" r="26" fill="none" stroke="#fef3c7" stroke-width="4"/>
                            <circle cx="30" cy="30" r="26" fill="none" 
                                    stroke="{% if test.score >= 85 %}#10b981{% elif test.score >= 70 %}#f59e0b{% else %}#ef4444{% endif %}" 
                                    stroke-width="4" 
                                    stroke-dasharray="{{ (test.score / 100) * 163.36 }} 163.36" 
                                    stroke-linecap="round"/>
                        </svg>
                        <div class="score-number">{{ test.score }}</div>
                    </div>
                    <div class="history-details">
                        <div class="history-url">{{ test.url }}</div>
                        <div class="history-meta">
                            <span>{{ test.date }}</span>
                            <span>•</span>
                            <span>{{ test.device }}</span>
                            <span>•</span>
                            <span>{{ test.passed_tests }}/{{ test.total_tests }} passed</span>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
        {% endif %}
    </div>

    <script src="{{ url_for('static', filename='js/page1.js') }}"></script>
</body>
</html>